{% extends "base.html" %}

{% block javascript %}
  <script src="{{ url_for('static', filename='js/remove.js') }}"></script>
{% endblock %}

{% block body %}
  <h1>{{ current_user.username }}'s List</h1>

  {% if films %}
    <table class="table">

    {% for film in films %}
      <tr>
        <td>
          <a href="{{ url_for('movie_info', tmdb_id=film.tmdb_id )}}">
            {{ film.title }} ({{ film.year }})
          </a>
        </td>

        <td>
          <button class="btn btn-secondary trash-button"
                  name="remove" type="submit" value="{{ film.tmdb_id  }}"
                  alt="remove item">Remove</button>
        </td>
      </tr>
    {% endfor %}
    </table>

  {% else %}
    {# Keep commented: remove.js handles what happens when list is empty. #}
    <!-- <p id="empty-list-message">Your list is empty. Add some films today!</p> -->
  {% endif %}

  <p id="empty-list-message">Your list is empty. Add some films today!</p>

{% endblock %}
